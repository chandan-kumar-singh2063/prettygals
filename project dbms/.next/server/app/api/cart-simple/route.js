/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/cart-simple/route";
exports.ids = ["app/api/cart-simple/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcart-simple%2Froute&page=%2Fapi%2Fcart-simple%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcart-simple%2Froute.js&appDir=D%3A%5CNew%20folder%5Cproject%20dbms%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CNew%20folder%5Cproject%20dbms&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcart-simple%2Froute&page=%2Fapi%2Fcart-simple%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcart-simple%2Froute.js&appDir=D%3A%5CNew%20folder%5Cproject%20dbms%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CNew%20folder%5Cproject%20dbms&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_New_folder_project_dbms_src_app_api_cart_simple_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/cart-simple/route.js */ \"(rsc)/./src/app/api/cart-simple/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/cart-simple/route\",\n        pathname: \"/api/cart-simple\",\n        filename: \"route\",\n        bundlePath: \"app/api/cart-simple/route\"\n    },\n    resolvedPagePath: \"D:\\\\New folder\\\\project dbms\\\\src\\\\app\\\\api\\\\cart-simple\\\\route.js\",\n    nextConfigOutput,\n    userland: D_New_folder_project_dbms_src_app_api_cart_simple_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZjYXJ0LXNpbXBsZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY2FydC1zaW1wbGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjYXJ0LXNpbXBsZSUyRnJvdXRlLmpzJmFwcERpcj1EJTNBJTVDTmV3JTIwZm9sZGVyJTVDcHJvamVjdCUyMGRibXMlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNOZXclMjBmb2xkZXIlNUNwcm9qZWN0JTIwZGJtcyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDa0I7QUFDL0Y7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmVhdXR5LWVjb21tZXJjZS8/Yzc0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcTmV3IGZvbGRlclxcXFxwcm9qZWN0IGRibXNcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY2FydC1zaW1wbGVcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NhcnQtc2ltcGxlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY2FydC1zaW1wbGVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NhcnQtc2ltcGxlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcTmV3IGZvbGRlclxcXFxwcm9qZWN0IGRibXNcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY2FydC1zaW1wbGVcXFxccm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcart-simple%2Froute&page=%2Fapi%2Fcart-simple%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcart-simple%2Froute.js&appDir=D%3A%5CNew%20folder%5Cproject%20dbms%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CNew%20folder%5Cproject%20dbms&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/cart-simple/route.js":
/*!******************************************!*\
  !*** ./src/app/api/cart-simple/route.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/mongodb */ \"(rsc)/./src/lib/mongodb.js\");\n/* harmony import */ var _models_Cart__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/Cart */ \"(rsc)/./src/models/Cart.js\");\n\n\n\nasync function GET(request) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const { searchParams } = new URL(request.url);\n        const userId = searchParams.get('userId');\n        if (!userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                message: 'User ID required'\n            }, {\n                status: 400\n            });\n        }\n        // Find user's cart\n        let cart = await _models_Cart__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n            userId\n        });\n        if (!cart) {\n            cart = new _models_Cart__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                userId,\n                items: []\n            });\n            await cart.save();\n        }\n        const cartTotal = cart.items.reduce((total, item)=>total + item.price * item.quantity, 0);\n        const itemCount = cart.items.reduce((count, item)=>count + item.quantity, 0);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            cart: cart.items,\n            total: cartTotal,\n            itemCount: itemCount\n        });\n    } catch (error) {\n        console.error('Cart GET error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: 'Server error: ' + error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const body = await request.json();\n        console.log('Simple Cart POST - Body:', body);\n        const { action, userId, productId, quantity, name, price, image } = body;\n        if (!userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                message: 'User ID required'\n            }, {\n                status: 400\n            });\n        }\n        // Find or create user's cart\n        let cart = await _models_Cart__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n            userId\n        });\n        if (!cart) {\n            cart = new _models_Cart__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                userId,\n                items: []\n            });\n        }\n        if (action === 'add') {\n            // Check if item already exists in cart\n            const existingItemIndex = cart.items.findIndex((item)=>item.productId === productId);\n            if (existingItemIndex > -1) {\n                // Update quantity\n                cart.items[existingItemIndex].quantity += quantity;\n            } else {\n                // Add new item\n                cart.items.push({\n                    productId,\n                    name,\n                    price,\n                    image,\n                    quantity\n                });\n            }\n        } else if (action === 'update') {\n            const itemIndex = cart.items.findIndex((item)=>item.productId === productId);\n            if (itemIndex > -1) {\n                if (quantity > 0) {\n                    cart.items[itemIndex].quantity = quantity;\n                } else {\n                    cart.items.splice(itemIndex, 1);\n                }\n            }\n        } else if (action === 'remove') {\n            cart.items = cart.items.filter((item)=>item.productId !== productId);\n        } else if (action === 'clear') {\n            cart.items = [];\n        }\n        await cart.save();\n        console.log('Cart saved:', cart);\n        const cartTotal = cart.items.reduce((total, item)=>total + item.price * item.quantity, 0);\n        const itemCount = cart.items.reduce((count, item)=>count + item.quantity, 0);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: `Cart ${action} successful`,\n            cart: cart.items,\n            total: cartTotal,\n            itemCount: itemCount\n        });\n    } catch (error) {\n        console.error('Simple Cart POST error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            message: 'Server error: ' + error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dEI7WUFBRUMsU0FBUztZQUFPQyxTQUFTLG1CQUFtQmMsTUFBTWQsT0FBTztRQUFDLEdBQzVEO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmVhdXR5LWVjb21tZXJjZS8uL3NyYy9hcHAvYXBpL2NhcnQtc2ltcGxlL3JvdXRlLmpzPzczODMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcbmltcG9ydCBjb25uZWN0VG9EYXRhYmFzZSBmcm9tICcuLi8uLi8uLi9saWIvbW9uZ29kYidcclxuaW1wb3J0IENhcnQgZnJvbSAnLi4vLi4vLi4vbW9kZWxzL0NhcnQnXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKVxyXG4gICAgXHJcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcclxuICAgIGNvbnN0IHVzZXJJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3VzZXJJZCcpXHJcbiAgICBcclxuICAgIGlmICghdXNlcklkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnVXNlciBJRCByZXF1aXJlZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEZpbmQgdXNlcidzIGNhcnRcclxuICAgIGxldCBjYXJ0ID0gYXdhaXQgQ2FydC5maW5kT25lKHsgdXNlcklkIH0pXHJcbiAgICBcclxuICAgIGlmICghY2FydCkge1xyXG4gICAgICBjYXJ0ID0gbmV3IENhcnQoeyB1c2VySWQsIGl0ZW1zOiBbXSB9KVxyXG4gICAgICBhd2FpdCBjYXJ0LnNhdmUoKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNhcnRUb3RhbCA9IGNhcnQuaXRlbXMucmVkdWNlKCh0b3RhbCwgaXRlbSkgPT4gdG90YWwgKyAoaXRlbS5wcmljZSAqIGl0ZW0ucXVhbnRpdHkpLCAwKVxyXG4gICAgY29uc3QgaXRlbUNvdW50ID0gY2FydC5pdGVtcy5yZWR1Y2UoKGNvdW50LCBpdGVtKSA9PiBjb3VudCArIGl0ZW0ucXVhbnRpdHksIDApXHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgY2FydDogY2FydC5pdGVtcyxcclxuICAgICAgdG90YWw6IGNhcnRUb3RhbCxcclxuICAgICAgaXRlbUNvdW50OiBpdGVtQ291bnRcclxuICAgIH0pXHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdDYXJ0IEdFVCBlcnJvcjonLCBlcnJvcilcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ1NlcnZlciBlcnJvcjogJyArIGVycm9yLm1lc3NhZ2UgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKClcclxuICAgIFxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXHJcbiAgICBjb25zb2xlLmxvZygnU2ltcGxlIENhcnQgUE9TVCAtIEJvZHk6JywgYm9keSlcclxuICAgIFxyXG4gICAgY29uc3QgeyBhY3Rpb24sIHVzZXJJZCwgcHJvZHVjdElkLCBxdWFudGl0eSwgbmFtZSwgcHJpY2UsIGltYWdlIH0gPSBib2R5XHJcbiAgICBcclxuICAgIGlmICghdXNlcklkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnVXNlciBJRCByZXF1aXJlZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEZpbmQgb3IgY3JlYXRlIHVzZXIncyBjYXJ0XHJcbiAgICBsZXQgY2FydCA9IGF3YWl0IENhcnQuZmluZE9uZSh7IHVzZXJJZCB9KVxyXG4gICAgaWYgKCFjYXJ0KSB7XHJcbiAgICAgIGNhcnQgPSBuZXcgQ2FydCh7IHVzZXJJZCwgaXRlbXM6IFtdIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFjdGlvbiA9PT0gJ2FkZCcpIHtcclxuICAgICAgLy8gQ2hlY2sgaWYgaXRlbSBhbHJlYWR5IGV4aXN0cyBpbiBjYXJ0XHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbUluZGV4ID0gY2FydC5pdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnByb2R1Y3RJZCA9PT0gcHJvZHVjdElkKVxyXG4gICAgICBcclxuICAgICAgaWYgKGV4aXN0aW5nSXRlbUluZGV4ID4gLTEpIHtcclxuICAgICAgICAvLyBVcGRhdGUgcXVhbnRpdHlcclxuICAgICAgICBjYXJ0Lml0ZW1zW2V4aXN0aW5nSXRlbUluZGV4XS5xdWFudGl0eSArPSBxdWFudGl0eVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEFkZCBuZXcgaXRlbVxyXG4gICAgICAgIGNhcnQuaXRlbXMucHVzaCh7XHJcbiAgICAgICAgICBwcm9kdWN0SWQsXHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgcHJpY2UsXHJcbiAgICAgICAgICBpbWFnZSxcclxuICAgICAgICAgIHF1YW50aXR5XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAndXBkYXRlJykge1xyXG4gICAgICBjb25zdCBpdGVtSW5kZXggPSBjYXJ0Lml0ZW1zLmZpbmRJbmRleChpdGVtID0+IGl0ZW0ucHJvZHVjdElkID09PSBwcm9kdWN0SWQpXHJcbiAgICAgIGlmIChpdGVtSW5kZXggPiAtMSkge1xyXG4gICAgICAgIGlmIChxdWFudGl0eSA+IDApIHtcclxuICAgICAgICAgIGNhcnQuaXRlbXNbaXRlbUluZGV4XS5xdWFudGl0eSA9IHF1YW50aXR5XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNhcnQuaXRlbXMuc3BsaWNlKGl0ZW1JbmRleCwgMSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3JlbW92ZScpIHtcclxuICAgICAgY2FydC5pdGVtcyA9IGNhcnQuaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5wcm9kdWN0SWQgIT09IHByb2R1Y3RJZClcclxuICAgICAgXHJcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2NsZWFyJykge1xyXG4gICAgICBjYXJ0Lml0ZW1zID0gW11cclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBjYXJ0LnNhdmUoKVxyXG4gICAgY29uc29sZS5sb2coJ0NhcnQgc2F2ZWQ6JywgY2FydClcclxuXHJcbiAgICBjb25zdCBjYXJ0VG90YWwgPSBjYXJ0Lml0ZW1zLnJlZHVjZSgodG90YWwsIGl0ZW0pID0+IHRvdGFsICsgKGl0ZW0ucHJpY2UgKiBpdGVtLnF1YW50aXR5KSwgMClcclxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGNhcnQuaXRlbXMucmVkdWNlKChjb3VudCwgaXRlbSkgPT4gY291bnQgKyBpdGVtLnF1YW50aXR5LCAwKVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6IGBDYXJ0ICR7YWN0aW9ufSBzdWNjZXNzZnVsYCxcclxuICAgICAgY2FydDogY2FydC5pdGVtcyxcclxuICAgICAgdG90YWw6IGNhcnRUb3RhbCxcclxuICAgICAgaXRlbUNvdW50OiBpdGVtQ291bnRcclxuICAgIH0pXHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdTaW1wbGUgQ2FydCBQT1NUIGVycm9yOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnU2VydmVyIGVycm9yOiAnICsgZXJyb3IubWVzc2FnZSB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgIClcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNvbm5lY3RUb0RhdGFiYXNlIiwiQ2FydCIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJ1c2VySWQiLCJnZXQiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJjYXJ0IiwiZmluZE9uZSIsIml0ZW1zIiwic2F2ZSIsImNhcnRUb3RhbCIsInJlZHVjZSIsInRvdGFsIiwiaXRlbSIsInByaWNlIiwicXVhbnRpdHkiLCJpdGVtQ291bnQiLCJjb3VudCIsImVycm9yIiwiY29uc29sZSIsIlBPU1QiLCJib2R5IiwibG9nIiwiYWN0aW9uIiwicHJvZHVjdElkIiwibmFtZSIsImltYWdlIiwiZXhpc3RpbmdJdGVtSW5kZXgiLCJmaW5kSW5kZXgiLCJwdXNoIiwiaXRlbUluZGV4Iiwic3BsaWNlIiwiZmlsdGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/cart-simple/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.js":
/*!****************************!*\
  !*** ./src/lib/mongodb.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI || 'mongodb://localhost:27017/beauty-ecommerce';\nif (!MONGODB_URI) {\n    throw new Error('Please define the MONGODB_URI environment variable inside .env.local');\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function connectDB() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0YsV0FBVyxJQUFJO0FBRS9DLElBQUksQ0FBQ0EsYUFBYTtJQUNoQixNQUFNLElBQUlHLE1BQU07QUFDbEI7QUFFQSxJQUFJQyxTQUFTQyxPQUFPTixRQUFRO0FBRTVCLElBQUksQ0FBQ0ssUUFBUTtJQUNYQSxTQUFTQyxPQUFPTixRQUFRLEdBQUc7UUFBRU8sTUFBTTtRQUFNQyxTQUFTO0lBQUs7QUFDekQ7QUFFQSxlQUFlQztJQUNiLElBQUlKLE9BQU9FLElBQUksRUFBRTtRQUNmLE9BQU9GLE9BQU9FLElBQUk7SUFDcEI7SUFFQSxJQUFJLENBQUNGLE9BQU9HLE9BQU8sRUFBRTtRQUNuQixNQUFNRSxPQUFPO1lBQ1hDLGdCQUFnQjtRQUNsQjtRQUVBTixPQUFPRyxPQUFPLEdBQUdSLHVEQUFnQixDQUFDQyxhQUFhUyxNQUFNRyxJQUFJLENBQUMsQ0FBQ2I7WUFDekQsT0FBT0E7UUFDVDtJQUNGO0lBRUEsSUFBSTtRQUNGSyxPQUFPRSxJQUFJLEdBQUcsTUFBTUYsT0FBT0csT0FBTztJQUNwQyxFQUFFLE9BQU9NLEdBQUc7UUFDVlQsT0FBT0csT0FBTyxHQUFHO1FBQ2pCLE1BQU1NO0lBQ1I7SUFFQSxPQUFPVCxPQUFPRSxJQUFJO0FBQ3BCO0FBRUEsaUVBQWVFLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZWF1dHktZWNvbW1lcmNlLy4vc3JjL2xpYi9tb25nb2RiLmpzPzhiMDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkgfHwgJ21vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvYmVhdXR5LWVjb21tZXJjZSc7XHJcblxyXG5pZiAoIU1PTkdPREJfVVJJKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbCcpO1xyXG59XHJcblxyXG5sZXQgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlO1xyXG5cclxuaWYgKCFjYWNoZWQpIHtcclxuICBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gY29ubmVjdERCKCkge1xyXG4gIGlmIChjYWNoZWQuY29ubikge1xyXG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgY29uc3Qgb3B0cyA9IHtcclxuICAgICAgYnVmZmVyQ29tbWFuZHM6IGZhbHNlLFxyXG4gICAgfTtcclxuXHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlLmNvbm5lY3QoTU9OR09EQl9VUkksIG9wdHMpLnRoZW4oKG1vbmdvb3NlKSA9PiB7XHJcbiAgICAgIHJldHVybiBtb25nb29zZTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNhY2hlZC5jb25uID0gYXdhaXQgY2FjaGVkLnByb21pc2U7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY2FjaGVkLnByb21pc2UgPSBudWxsO1xyXG4gICAgdGhyb3cgZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBjYWNoZWQuY29ubjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdERCO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT0RCX1VSSSIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsImNhY2hlZCIsImdsb2JhbCIsImNvbm4iLCJwcm9taXNlIiwiY29ubmVjdERCIiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwiY29ubmVjdCIsInRoZW4iLCJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.js\n");

/***/ }),

/***/ "(rsc)/./src/models/Cart.js":
/*!****************************!*\
  !*** ./src/models/Cart.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst CartItemSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    productId: {\n        type: String,\n        required: true\n    },\n    name: {\n        type: String,\n        required: true\n    },\n    price: {\n        type: Number,\n        required: true\n    },\n    image: {\n        type: String,\n        required: false,\n        default: 'https://via.placeholder.com/150'\n    },\n    quantity: {\n        type: Number,\n        required: true,\n        min: [\n            1,\n            'Quantity must be at least 1'\n        ]\n    }\n}, {\n    _id: false\n});\nconst CartSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    userId: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    items: [\n        CartItemSchema\n    ],\n    total: {\n        type: Number,\n        default: 0\n    },\n    itemCount: {\n        type: Number,\n        default: 0\n    }\n}, {\n    timestamps: true\n});\n// Calculate total and item count before saving\nCartSchema.pre('save', function(next) {\n    this.itemCount = this.items.reduce((total, item)=>total + item.quantity, 0);\n    this.total = this.items.reduce((total, item)=>total + item.price * item.quantity, 0);\n    next();\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Cart || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Cart', CartSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL0NhcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLGlCQUFpQixJQUFJRCx3REFBZSxDQUFDO0lBQ3pDRyxXQUFXO1FBQ1RDLE1BQU1DO1FBQ05DLFVBQVU7SUFDWjtJQUNBQyxNQUFNO1FBQ0pILE1BQU1DO1FBQ05DLFVBQVU7SUFDWjtJQUNBRSxPQUFPO1FBQ0xKLE1BQU1LO1FBQ05ILFVBQVU7SUFDWjtJQUNBSSxPQUFPO1FBQ0xOLE1BQU1DO1FBQ05DLFVBQVU7UUFDVkssU0FBUztJQUNYO0lBQ0FDLFVBQVU7UUFDUlIsTUFBTUs7UUFDTkgsVUFBVTtRQUNWTyxLQUFLO1lBQUM7WUFBRztTQUE4QjtJQUN6QztBQUNGLEdBQUc7SUFDREMsS0FBSztBQUNQO0FBRUEsTUFBTUMsYUFBYSxJQUFJZix3REFBZSxDQUFDO0lBQ3JDZ0IsUUFBUTtRQUNOWixNQUFNQztRQUNOQyxVQUFVO1FBQ1ZXLFFBQVE7SUFDVjtJQUNBQyxPQUFPO1FBQUNqQjtLQUFlO0lBQ3ZCa0IsT0FBTztRQUNMZixNQUFNSztRQUNORSxTQUFTO0lBQ1g7SUFDQVMsV0FBVztRQUNUaEIsTUFBTUs7UUFDTkUsU0FBUztJQUNYO0FBQ0YsR0FBRztJQUNEVSxZQUFZO0FBQ2Q7QUFFQSwrQ0FBK0M7QUFDL0NOLFdBQVdPLEdBQUcsQ0FBQyxRQUFRLFNBQVNDLElBQUk7SUFDbEMsSUFBSSxDQUFDSCxTQUFTLEdBQUcsSUFBSSxDQUFDRixLQUFLLENBQUNNLE1BQU0sQ0FBQyxDQUFDTCxPQUFPTSxPQUFTTixRQUFRTSxLQUFLYixRQUFRLEVBQUU7SUFDM0UsSUFBSSxDQUFDTyxLQUFLLEdBQUcsSUFBSSxDQUFDRCxLQUFLLENBQUNNLE1BQU0sQ0FBQyxDQUFDTCxPQUFPTSxPQUFTTixRQUFTTSxLQUFLakIsS0FBSyxHQUFHaUIsS0FBS2IsUUFBUSxFQUFHO0lBQ3RGVztBQUNGO0FBRUEsaUVBQWV2Qix3REFBZSxDQUFDMkIsSUFBSSxJQUFJM0IscURBQWMsQ0FBQyxRQUFRZSxXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmVhdXR5LWVjb21tZXJjZS8uL3NyYy9tb2RlbHMvQ2FydC5qcz8yZjEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCBDYXJ0SXRlbVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIHByb2R1Y3RJZDoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG4gIG5hbWU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICBwcmljZToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG4gIGltYWdlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICBkZWZhdWx0OiAnaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzE1MCdcclxuICB9LFxyXG4gIHF1YW50aXR5OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIG1pbjogWzEsICdRdWFudGl0eSBtdXN0IGJlIGF0IGxlYXN0IDEnXVxyXG4gIH1cclxufSwge1xyXG4gIF9pZDogZmFsc2VcclxufSk7XHJcblxyXG5jb25zdCBDYXJ0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgdXNlcklkOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIHVuaXF1ZTogdHJ1ZVxyXG4gIH0sXHJcbiAgaXRlbXM6IFtDYXJ0SXRlbVNjaGVtYV0sXHJcbiAgdG90YWw6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IDBcclxuICB9LFxyXG4gIGl0ZW1Db3VudDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMFxyXG4gIH1cclxufSwge1xyXG4gIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG4vLyBDYWxjdWxhdGUgdG90YWwgYW5kIGl0ZW0gY291bnQgYmVmb3JlIHNhdmluZ1xyXG5DYXJ0U2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uKG5leHQpIHtcclxuICB0aGlzLml0ZW1Db3VudCA9IHRoaXMuaXRlbXMucmVkdWNlKCh0b3RhbCwgaXRlbSkgPT4gdG90YWwgKyBpdGVtLnF1YW50aXR5LCAwKTtcclxuICB0aGlzLnRvdGFsID0gdGhpcy5pdGVtcy5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB0b3RhbCArIChpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSksIDApO1xyXG4gIG5leHQoKTtcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuQ2FydCB8fCBtb25nb29zZS5tb2RlbCgnQ2FydCcsIENhcnRTY2hlbWEpO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJDYXJ0SXRlbVNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3RJZCIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsIm5hbWUiLCJwcmljZSIsIk51bWJlciIsImltYWdlIiwiZGVmYXVsdCIsInF1YW50aXR5IiwibWluIiwiX2lkIiwiQ2FydFNjaGVtYSIsInVzZXJJZCIsInVuaXF1ZSIsIml0ZW1zIiwidG90YWwiLCJpdGVtQ291bnQiLCJ0aW1lc3RhbXBzIiwicHJlIiwibmV4dCIsInJlZHVjZSIsIml0ZW0iLCJtb2RlbHMiLCJDYXJ0IiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Cart.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcart-simple%2Froute&page=%2Fapi%2Fcart-simple%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcart-simple%2Froute.js&appDir=D%3A%5CNew%20folder%5Cproject%20dbms%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CNew%20folder%5Cproject%20dbms&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();